name: Training and Testing

on: [push]

jobs:

  run:

    runs-on: [ubuntu-latest]

    steps:

      - uses: actions/checkout@v2
      - uses: actions/setup-python@v2

      - name: Train model
        env:
          REPO_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        run: |
          pip install pandas
          pip install numpy
          pip install torch
          pip install torchvision
          pip install GitPython

          using: 'docker'
          image: 'Dockerfile'

      - name: Test model
        env:
          REPO_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        run: |
          python test.py
